# ===============================================
# Advancia PayLedger - Production Environment
# ===============================================
# Copy this file to .env.production and fill in your values
# NEVER commit .env.production to version control!

# ===============================================
# Application Settings
# ===============================================
NODE_ENV=production
LOG_LEVEL=info

# ===============================================
# Database Configuration
# ===============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://postgres:CHANGE_THIS_PASSWORD@postgres:5432/advancia_payledger

# Database credentials (used by docker-compose)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=advancia_payledger

# ===============================================
# Redis Configuration
# ===============================================
REDIS_URL=redis://:CHANGE_THIS_PASSWORD@redis:6379
REDIS_PASSWORD=CHANGE_THIS_PASSWORD

# ===============================================
# JWT Authentication
# ===============================================
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_RANDOM_64_CHAR_STRING
JWT_EXPIRATION=7d

# ===============================================
# API Security
# ===============================================
# Generate with: openssl rand -hex 32
API_KEY=CHANGE_THIS_TO_RANDOM_API_KEY

# Allowed origins (comma-separated for multiple)
CORS_ORIGIN=https://advanciapayledger.com,https://www.advanciapayledger.com

# Rate limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# ===============================================
# Email Configuration (Resend)
# ===============================================
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_XXXXXXXXXXXXXXXXXXXXXXXX
EMAIL_FROM=noreply@advanciapayledger.com

# ===============================================
# Payment Processing (Stripe)
# ===============================================
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_XXXXXXXXXXXXXXXXXXXXXXXX
STRIPE_PUBLISHABLE_KEY=pk_live_XXXXXXXXXXXXXXXXXXXXXXXX

# Webhook secret from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXXXXXXXXXXXXX

# ===============================================
# Push Notifications (VAPID Keys)
# ===============================================
# Generate with: node backend/generate-vapid.js
VAPID_PUBLIC_KEY=CHANGE_THIS_TO_VAPID_PUBLIC_KEY
VAPID_PRIVATE_KEY=CHANGE_THIS_TO_VAPID_PRIVATE_KEY

# ===============================================
# Frontend Configuration
# ===============================================
# API URL (external URL)
NEXT_PUBLIC_API_URL=https://api.advanciapayledger.com

# App name
NEXT_PUBLIC_APP_NAME=Advancia PayLedger

# Supported currencies
NEXT_PUBLIC_CURRENCY_LIST=USD,EUR,BTC,ETH,USDT,TRUMP,MEDBED

# Feature flags (comma-separated)
NEXT_PUBLIC_FEATURE_FLAGS=notifications,bonus_tokens,debit_card,crypto_recovery

# Public VAPID key (same as VAPID_PUBLIC_KEY above)
NEXT_PUBLIC_VAPID_KEY=CHANGE_THIS_TO_VAPID_PUBLIC_KEY

# Public API key (for frontend requests)
NEXT_PUBLIC_API_KEY=CHANGE_THIS_TO_PUBLIC_API_KEY

# Botpress bot ID (optional)
NEXT_PUBLIC_BOTPRESS_BOT_ID=

# ===============================================
# Backup Configuration
# ===============================================
# Number of days to retain backups
BACKUP_RETENTION_DAYS=7

# ===============================================
# Domain Configuration
# ===============================================
# Your domain name (without https://)
DOMAIN=advanciapayledger.com

# Admin email for Let's Encrypt
LETSENCRYPT_EMAIL=admin@advanciapayledger.com

# ===============================================
# Optional: Monitoring & Analytics
# ===============================================
# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx

# Google Analytics ID (optional)
# NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# ===============================================
# Security Best Practices
# ===============================================
# 1. Generate strong random values for all secrets
# 2. Use different passwords for each service
# 3. Enable 2FA for all third-party services
# 4. Regularly rotate credentials (every 90 days)
# 5. Store backups securely off-site
# 6. Monitor logs for suspicious activity
# 7. Keep all services updated

# ===============================================
# Quick Setup Commands
# ===============================================
# Generate JWT secret:
# openssl rand -base64 64
#
# Generate API key:
# openssl rand -hex 32
#
# Generate VAPID keys:
# cd backend && node generate-vapid.js
#
# Test database connection:
# docker-compose -f docker-compose.prod.yml exec postgres psql -U postgres -d advancia_payledger
#
# View backend logs:
# docker-compose -f docker-compose.prod.yml logs -f backend
#
# Create admin user:
# docker-compose -f docker-compose.prod.yml exec backend node -e "require('./scripts/create-admin.js')"
