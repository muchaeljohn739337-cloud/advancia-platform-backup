# Test Environment Configuration
# This file contains test-specific environment variables
# Copy this file to .env.test and fill in actual values for integration tests with real APIs

# ========================================
# Database Configuration
# ========================================
DATABASE_URL="postgresql://postgres:postgres@localhost:5433/advancia_payledger_test"
TEST_DATABASE_URL="postgresql://postgres:postgres@localhost:5433/advancia_payledger_test"

# ========================================
# Server Configuration
# ========================================
PORT=4001
NODE_ENV=test
API_BASE_URL="http://localhost:4001"

# ========================================
# JWT & Authentication
# ========================================
JWT_SECRET="test-jwt-secret-DO-NOT-USE-IN-PRODUCTION-123456789"
JWT_EXPIRES_IN="1h"
REFRESH_TOKEN_SECRET="test-refresh-token-secret-DO-NOT-USE-IN-PRODUCTION"

# ========================================
# Cryptomus API (Mock by default)
# ========================================
# Leave empty to use mocks, fill to test with real Cryptomus API
CRYPTOMUS_API_KEY=""
CRYPTOMUS_MERCHANT_ID=""
CRYPTOMUS_WEBHOOK_SECRET="test-webhook-secret-123"

# ========================================
# Email Configuration (Mock by default)
# ========================================
# Leave empty to use mocks, fill to test with real email service
EMAIL_USER=""
EMAIL_PASSWORD=""
SMTP_HOST=""
SMTP_PORT=""
EMAIL_FROM="test@advancia.com"

# ========================================
# Stripe Configuration (Mock by default)
# ========================================
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET="whsec_test_secret"

# ========================================
# Redis Configuration (Optional for tests)
# ========================================
REDIS_URL="redis://localhost:6379"
REDIS_ENABLED="false"

# ========================================
# Blockchain Configuration
# ========================================
# Leave empty to use mocks
ETHEREUM_RPC_URL=""
BITCOIN_RPC_URL=""
BLOCKCHAIN_NETWORK="testnet"

# ========================================
# CORS & Security
# ========================================
FRONTEND_URL="http://localhost:3000"
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:4001"

# ========================================
# Test Behavior Flags
# ========================================
# Set to 'true' to use real APIs instead of mocks (requires credentials above)
USE_REAL_APIS="false"
# Set to 'true' to skip tests that require external services
SKIP_INTEGRATION_TESTS="false"
# Test timeout in milliseconds
TEST_TIMEOUT="30000"

# ========================================
# Logging
# ========================================
LOG_LEVEL="error"
LOG_TO_FILE="false"

# ========================================
# File Upload (S3 mock)
# ========================================
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
S3_BUCKET_NAME="test-bucket"

# ========================================
# 2FA & OTP
# ========================================
OTP_EXPIRY_MINUTES="5"
TOTP_ISSUER="Advancia Pay Test"

# ========================================
# Rate Limiting (Disabled in tests)
# ========================================
RATE_LIMIT_WINDOW_MS="60000"
RATE_LIMIT_MAX_REQUESTS="1000"

# ========================================
# Push Notifications
# ========================================
VAPID_PUBLIC_KEY=""
VAPID_PRIVATE_KEY=""

# ========================================
# Monitoring & Error Tracking
# ========================================
SENTRY_DSN=""
SENTRY_ENVIRONMENT="test"

# ========================================
# Feature Flags
# ========================================
ENABLE_CRYPTO_WITHDRAWALS="true"
ENABLE_EMAIL_NOTIFICATIONS="false"
ENABLE_WEBSOCKETS="false"


